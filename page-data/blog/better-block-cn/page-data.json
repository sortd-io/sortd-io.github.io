{"componentChunkName":"component---src-templates-docs-tsx","path":"/blog/better-block-cn","webpackCompilationHash":"ddb134439a54b8ba43e8","result":{"data":{"markdownRemark":{"html":"<p>在 v4 中我们发布了 block 功能，在一段时间的使用和反馈中我们增加了一些新的特性，来帮助用户更好的使用和体验 block。</p>\n<h2 id=\"-更快的安装速度\">🚀 更快的安装速度<a href=\"#-%E6%9B%B4%E5%BF%AB%E7%9A%84%E5%AE%89%E8%A3%85%E9%80%9F%E5%BA%A6\" aria-hidden class=\"anchor\">#</a></h2>\n<p>在新的 umi block 中我们会帮助用户自动选择合适的源，而在以前的版本中 block 会使用默认的 npm 源，对于网络状态不佳的用户，改善非常明显。在区块安装中会提示你使用的包管理工具和源。</p>\n<p><img src=\"https://gw.alipayobjects.com/zos/antfincdn/bIMTQS7Enp/1561711640885-9978d8b0-bd9b-4ca8-936d-8295c93aaf6e.png\" alt=\"image.png\"></p>\n<p>如果你想使用自己的包管理工具和源，你可以通过 <code>--npm-client</code>  和 <code>--registry</code>  来自定义。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">npx umi block <span class=\"token function\">add</span> AccountSettings --npm-client<span class=\"token operator\">=</span>cnpm --registry<span class=\"token operator\">=</span>https://registry.npm.taobao.org</code></pre></div>\n<blockquote>\n<p>🌟block 自带了 npm 和 taobao 两种源, 会根据网络来决定使用哪个源。同时如果你的项目中包含 yarn.lock 文件，block 会使用 yarn 来安装区块。</p>\n</blockquote>\n<h2 id=\"-typescript-转-javascript\">🌟 TypeScript 转 JavaScript<a href=\"#-typescript-%E8%BD%AC-javascript\" aria-hidden class=\"anchor\">#</a></h2>\n<p>Pro V4 中默认的区块为 TypeScript，有些用户还是希望使用 JavaScript 版本的区块来进行开发。在新版中我们加入了对 js 的支持。 如果你需要 js 的版本，只要增加 <code>--js</code>  参数。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">npx umi block <span class=\"token function\">add</span> AccountSettings --js</code></pre></div>\n<h2 id=\"-umi-block-list-优化\">💄 umi block list 优化<a href=\"#-umi-block-list-%E4%BC%98%E5%8C%96\" aria-hidden class=\"anchor\">#</a></h2>\n<p>umi block list 的初衷是希望大家可以快速的查到区块，但是在实际使用中，因为不支持  <code>defaultGitUrl</code>  的参数，导致在使用过程中经常发现区块找不到的问题。新版中我们解决了这个问题，</p>\n<p>默认的 block 样式：</p>\n<p><img src=\"https://gw.alipayobjects.com/zos/antfincdn/NtVIEG5%26Dl/1561713171094-78254575-b36c-4fab-b56a-f969984d4891.png\" alt=\"image.png\"></p>\n<p>在 pro 中使用:</p>\n<p><img src=\"https://gw.alipayobjects.com/zos/antfincdn/x4QZO%24Ubyh/1561713223131-f7111829-e270-4569-b5ac-8e8585581b96.png\" alt=\"image.png\"></p>\n<p>为了提供更好的体验，现在支持 list 中选择某一项用于安装。Pro 的区块还提供了预览的链接。可以跳转到 Pro 的 preview 预览这个区块。</p>\n<p>这里有一个完整的流程预览：</p>\n<p><img src=\"https://gw.alipayobjects.com/zos/antfincdn/l77kvH708D/Kapture%2525202019-06-28%252520at%25252017.25.12.gif\" alt=\"Kapture 2019-06-28 at 17.25.12.gif\"></p>\n<p>最后欢迎使用，提交问题，PR。</p>\n<h4 id=\"参考文档\">参考文档<a href=\"#%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3\" aria-hidden class=\"anchor\">#</a></h4>\n<p><em>umi block</em> <a href=\"https://umijs.org/zh/guide/block.html\">https://umijs.org/zh/guide/block.html</a></p>\n<p><em>pro-blocks</em>  <a href=\"https://github.com/ant-design/pro-blocks/pulls\">https://github.com/ant-design/pro-blocks/pulls</a></p>\n<p><em>Ant Design Pro</em> <a href=\"https://pro.ant.design/index-cn\">https://pro.ant.design/index-cn</a></p>","tableOfContents":"<ul>\n<li><a href=\"/blog/better-block-cn/#-%E6%9B%B4%E5%BF%AB%E7%9A%84%E5%AE%89%E8%A3%85%E9%80%9F%E5%BA%A6\">🚀 更快的安装速度</a></li>\n<li><a href=\"/blog/better-block-cn/#-typescript-%E8%BD%AC-javascript\">🌟 TypeScript 转 JavaScript</a></li>\n<li><a href=\"/blog/better-block-cn/#-umi-block-list-%E4%BC%98%E5%8C%96\">💄 umi block list 优化</a></li>\n</ul>","frontmatter":{"title":{"zh_CN":"Block 新升级","en_US":"Block 新升级"},"order":5,"type":"Blog"},"fields":{"path":"\\blog\\better-block.zh-CN.md","slug":"/blog/better-block-cn","modifiedTime":1565564489128,"avatarList":[{"href":"/chenshuai2144","text":"\n        chenshuai2144\n","src":"https://avatars1.githubusercontent.com/u/8186664?s=40&amp;v=4"}]}},"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"title":{"zh_CN":"一起来用 eslint 吧","en_US":"一起来用 eslint 吧"},"order":1,"type":"Blog","time":"2019-06-21T00:00:00.000Z"},"fields":{"slug":"/blog/use-eslint-typescript-cn","path":"\\blog\\use-eslint-typescript.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Let's use eslint","en_US":"Let's use eslint"},"order":1,"type":"Blog","time":"2019-06-21T00:00:00.000Z"},"fields":{"slug":"/blog/use-eslint-typescript","path":"\\blog\\use-eslint-typescript.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Pro 的 Layout 组件","en_US":"Pro 的 Layout 组件"},"order":1,"type":"Blog","time":"2019-05-08T00:00:00.000Z"},"fields":{"slug":"/blog/new-pro-use-cn","path":"\\blog\\new-pro-use.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Layout component of Ant Design Pro","en_US":"Layout component of Ant Design Pro"},"order":1,"type":"Blog","time":"2019-05-08T00:00:00.000Z"},"fields":{"slug":"/blog/new-pro-use","path":"\\blog\\new-pro-use.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"在线更换主题","en_US":"在线更换主题"},"order":1,"type":"Blog","time":"2019-05-07T00:00:00.000Z"},"fields":{"slug":"/blog/change-theme-cn","path":"\\blog\\change-theme.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Customize theme on runtime","en_US":"Customize theme on runtime"},"order":1,"type":"Blog","time":"2019-05-07T00:00:00.000Z"},"fields":{"slug":"/blog/change-theme","path":"\\blog\\change-theme.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Block 新升级","en_US":"Block 新升级"},"order":5,"type":"Blog","time":"2019-06-28T00:00:00.000Z"},"fields":{"slug":"/blog/better-block-cn","path":"\\blog\\better-block.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Better Block","en_US":"Better Block"},"order":5,"type":"Blog","time":"2019-06-28T00:00:00.000Z"},"fields":{"slug":"/blog/better-block","path":"\\blog\\better-block.en-US.md"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/blog/better-block-cn","type":"/blog/"}}}